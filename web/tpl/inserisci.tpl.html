<div ng-controller="InsertCtrl" style="height: 100% !important;" layout-fill>
    <style type="text/css">
    .selectdemoSelectHeader {
        /* Please note: All these selectors are only applied to children of elements with the 'selectdemoSelectHeader' class */
    }
    
    .selectdemoSelectHeader .demo-header-searchbox {
        border: none;
        outline: none;
        height: 100%;
        width: 100%;
        padding: 0;
    }
    
    .selectdemoSelectHeader .demo-select-header {
        box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.1), 0 0 0 0 rgba(0, 0, 0, 0.14), 0 0 0 0 rgba(0, 0, 0, 0.12);
        padding-left: 10.667px;
        height: 48px;
        cursor: pointer;
        position: relative;
        display: flex;
        align-items: center;
        width: auto;
    }
    
    .selectdemoSelectHeader md-content._md {
        max-height: 240px;
    }
    </style>
    <md-toolbar>
        <div class="md-toolbar-tools">
            <md-button class="md-icon-button" aria-label="Open sidenav" ng-click="toggleLeft()" hide-gt-md>
                <i class="material-icons">menu</i>
            </md-button>
            <h2>
              <span>{{ tool }}</span>
            </h2>
            <span flex=""></span>
            <md-button class="md-icon-button" aria-label="Open sidenav" ng-show="tool=='Visualizza'" ng-click="toggleLayout()">
                <i class="material-icons">view_agenda</i>
            </md-button>
        </div>
    </md-toolbar>
    <md-content layout="row" layout-align="center center" style="height: calc(100% - 64px) !important;">
        <form name="insertForm" flex="80">
            <div layout="column">
                <div layout="row">
                    <md-input-container flex>
                        <label>Descrizione</label>
                        <textarea ng-model="event.description" placeholder="Descrizione dell'evento"></textarea>
                    </md-input-container>
                    <md-switch ng-model="event.visible" aria-label="Switch 1">
                        Visibile
                    </md-switch>
                </div>
                <div layout="row" flex>
                    <md-datepicker ng-model="event.date" md-placeholder="Seleziona data.." md-open-on-focus flex></md-datepicker>
                    <mdp-time-picker ng-model="event.hour_start" flex></mdp-time-picker>
                    <mdp-time-picker ng-model="event.hour_end" flex></mdp-time-picker>
                </div>
                <div layout="row" flex>
                    <md-input-container flex="25">
                        <label>Insegnanti</label>
                        <md-select ng-model="event.whos.techers" data-md-container-class="selectdemoSelectHeader" multiple placeholder="Seleziona insegnanti..">
                            <md-select-header class="demo-select-header">
                                <input ng-model="searchTermT" type="search" placeholder="Cerca.." class="demo-header-searchbox _md-text">
                            </md-select-header>
                            <md-optgroup label="Insegnanti">
                                <md-option ng-value="who" ng-repeat="who in whos | filter:{type:1, name:searchTermT} ">{{who.name}}</md-option>
                            </md-optgroup>
                        </md-select>
                    </md-input-container>
                    <md-input-container flex="25">
                        <label>Classi</label>
                        <md-select ng-model="event.whos.classes" data-md-container-class="selectdemoSelectHeader" multiple placeholder="Seleziona classi..">
                            <md-select-header class="demo-select-header">
                                <input ng-model="searchTermC" type="search" placeholder="Cerca.." class="demo-header-searchbox _md-text">
                            </md-select-header>
                            <md-optgroup label="Classi">
                                <md-option ng-value="who" ng-repeat="who in whos | filter:{type:2, name:searchTermC} ">{{who.name}}</md-option>
                            </md-optgroup>
                        </md-select>
                    </md-input-container>
                    <md-input-container flex="25">
                        <label>Aule</label>
                        <md-select ng-model="event.whos.rooms" data-md-container-class="selectdemoSelectHeader" multiple placeholder="Seleziona aule..">
                            <md-select-header class="demo-select-header">
                                <input ng-model="searchTermR" type="search" placeholder="Cerca.." class="demo-header-searchbox _md-text">
                            </md-select-header>
                            <md-optgroup label="Whos">
                                <md-option ng-value="who" ng-repeat="who in whos | filter:{type:3, name:searchTermR} ">{{who.name}}</md-option>
                            </md-optgroup>
                        </md-select>
                    </md-input-container>
                    <md-input-container flex="25">
                        <label>Alunni</label>
                        <md-select ng-model="event.whos.students" data-md-container-class="selectdemoSelectHeader" multiple placeholder="Seleziona alunni..">
                            <md-select-header class="demo-select-header">
                                <input ng-model="searchTermS" type="search" placeholder="Cerca.." class="demo-header-searchbox _md-text">
                            </md-select-header>
                            <md-optgroup label="Whos">
                                <md-option ng-value="who" ng-repeat="who in whos | filter:{type:4, name:searchTermS} ">{{who.name}}</md-option>
                            </md-optgroup>
                        </md-select>
                    </md-input-container>
                </div>
                <md-button class="md-raised md-primary" ng-click="insert()">Inserisci</md-button>
            </div>
        </form>
    </md-content>
</div>
